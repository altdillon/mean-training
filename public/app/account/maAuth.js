angular.module('app').factory('maAuth', function($http, maIdentity, $q){	return {		authenticateUser: function(username, password) {			var dfd = $q.defer();			$http.post('/login', {username:username, password:password}).success(function(data, status, headers, config) {				maIdentity.currentUser = data.user;				console.log(data.user);				console.log(maIdentity.currentUser);	            dfd.resolve(true);			}).error(function(data, status, headers, config) {				dfd.resolve(false);			});				/*then(function(response) {	            if(response.data.success) {	            	maIdentity.currentUser = response.data.user;	            	dfd.resolve(true);		        } else {					dfd.resolve(false);	            }*/	        return dfd.promise;		}	};})